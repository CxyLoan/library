# Краткое пособие по проекту Spring Boot Библиотека

### Краткая информация
* Здесь есть 3 профиля - dev/int/prod
* Для запуска dev профиля необходимо создать создать конфигурацию с этим профилем
* Создаем Spring Boot конфигурацию справа вверху рядом с кнопками запуска и дебага
* Имя указываем произвольное
* Версию JDK выбираем 21+
* В качестве запускаемого класса - ru.coxey.library.LibraryApplication
* Active profiles указываем dev
---
* Для запуска int/prod профиля проделываем тоже самое, только в Active profiles указываем 
* int/prod в зависимости от того какой профиль хотим запустить
* ОБЯЗАТЕЛЬНО! Требуется, чтобы был запущен PostgreSQL с именем БД library (порт 5432)
* ЗАПУСК ПРОИСХОДИТ НА ПОРТЕ 8080
---
### Просмотр метрик
* Для просмотра метрик необходимо, чтобы был запущен Docker
* Перед запуском проекта необходимо в терминале Intellij Idea ввести следующее: docker-compose up --build
* При повторном запуске можно просто docker-compose up
* И после этого локально стартануть проект в Intellij Idea
* Зайти на localhost:3000 ввести admin/admin
* Скорее всего, необходимо будет настроить Data Source Prometheus
* В URL необходимо прописать http://prometheus:9090
* В папке temp лежит файл grafana_dashboard.json, это готовый дашборд с метриками, его можно импортнуть и
* посмотреть как оно там работает

### Тестирование
* Для удобства в папке temp есть коллекции Postman
* Их можно импортнуть и использовать, чтобы было удобнее

### Успешные шаги для запуска
1) Создать DEV профиль
2) Запустить Docker
3) Выполнить в терминале Intellij Idea команду docker-compose up --build (или при повторном запуске docker-compose up)
4) Запустить локально проект на DEV профиле
5) Зайти по localhost:3000 в графану (login - admin, pass - admin)
6) Настроить Data Source Prometheus
7) Импортнуть Дашборд графаны
8) Импортнуть коллекции постмана для удобства тестирования
9) Наслаждаться